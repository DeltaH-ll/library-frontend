import{_ as z,u as B,r as p,i as f,w as t,d as o,e as E,o as v,b as s,a,f as i,j as N,t as g,E as V}from"./index-CVtVCzsP.js";import{A as $}from"./request-CSTMYV-j.js";const H={class:"left"},I={class:"right"},U={__name:"Home",setup(W){const u=E(),r=B();r.load();const _=p(r.username||"admin"),d=p(""),b=n=>{if(!n)return"";if(n.startsWith("http://")||n.startsWith("https://"))return n;const e=$.replace(/\/$/,""),l=n.startsWith("/")?n:`/${n}`;return`${e}${l}`};(()=>{_.value=r.username||localStorage.getItem("username")||"admin",d.value=b(r.avatar||localStorage.getItem("avatar")||"")})();const x=()=>{r.logout(),V.success("å·²é€€å‡ºç™»å½•"),u.push("/login")},k=()=>{u.push("/admin/dashboard")};return(n,e)=>{const l=o("el-menu-item"),y=o("el-menu"),S=o("el-aside"),w=o("el-avatar"),c=o("el-button"),C=o("el-header"),h=o("router-view"),A=o("el-main"),m=o("el-container");return v(),f(m,{class:"admin-layout"},{default:t(()=>[s(S,{width:"220px",class:"sidebar"},{default:t(()=>[e[4]||(e[4]=a("div",{class:"logo"},"ðŸ“š å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ",-1)),s(y,{router:"","background-color":"#2d3a4b","text-color":"#fff","active-text-color":"#ffd04b",class:"menu"},{default:t(()=>[s(l,{index:"/admin/dashboard"},{default:t(()=>e[0]||(e[0]=[a("i",{class:"el-icon-menu"},null,-1),a("span",null,"ä»ªè¡¨ç›˜",-1)])),_:1,__:[0]}),s(l,{index:"/admin/books"},{default:t(()=>e[1]||(e[1]=[a("i",{class:"el-icon-reading"},null,-1),a("span",null,"å›¾ä¹¦ç®¡ç†",-1)])),_:1,__:[1]}),s(l,{index:"/admin/borrow"},{default:t(()=>e[2]||(e[2]=[a("i",{class:"el-icon-notebook-2"},null,-1),a("span",null,"å€Ÿé˜…ç®¡ç†",-1)])),_:1,__:[2]}),s(l,{index:"/admin/users"},{default:t(()=>e[3]||(e[3]=[a("i",{class:"el-icon-user"},null,-1),a("span",null,"ç”¨æˆ·ç®¡ç†",-1)])),_:1,__:[3]})]),_:1})]),_:1,__:[4]}),s(m,{class:"main-container"},{default:t(()=>[s(C,{class:"header"},{default:t(()=>[a("div",H,[i(" æ¬¢è¿Žï¼Œç®¡ç†å‘˜ "+g(_.value)+" ",1),d.value?(v(),f(w,{key:0,src:d.value,size:32,class:"admin-avatar"},{default:t(()=>[i(g(_.value.charAt(0).toUpperCase()),1)]),_:1},8,["src"])):N("",!0)]),a("div",I,[s(c,{type:"primary",size:"small",onClick:k,plain:""},{default:t(()=>e[5]||(e[5]=[i("ä¸»é¡µ")])),_:1,__:[5]}),s(c,{type:"danger",size:"small",onClick:x},{default:t(()=>e[6]||(e[6]=[i("é€€å‡º")])),_:1,__:[6]})])]),_:1}),s(A,{class:"main-content"},{default:t(()=>[s(h)]),_:1})]),_:1})]),_:1})}}},j=z(U,[["__scopeId","data-v-9b7a5ed5"]]);export{j as default};
