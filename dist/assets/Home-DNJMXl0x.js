import{_ as A,u as B,r as i,l as C,c as U,b as s,w as o,d as a,e as V,o as $,a as n,f as d,t as m,E as y}from"./index-CVtVCzsP.js";import{A as I}from"./request-CSTMYV-j.js";const N={class:"user-home"},W={class:"user-info"},z={class:"username"},F={__name:"Home",setup(H){const p=V(),l=B(),r=i("ç”¨æˆ·"),c=i(""),f=t=>{if(!t)return"";if(t.startsWith("http://")||t.startsWith("https://"))return t;const e=I.replace(/\/$/,""),_=t.startsWith("/")?t:`/${t}`;return`${e}${_}`},v=()=>{const t=l.username||localStorage.getItem("username")||"ç”¨æˆ·";r.value=t;const e=l.avatar||localStorage.getItem("avatar")||"";c.value=f(e)};C(()=>{var t;(t=l.load)==null||t.call(l),v()});const b=()=>{l.logout(),c.value="",r.value="ç”¨æˆ·",y.success("é€€å‡ºæˆåŠŸ"),p.push("/login")};return(t,e)=>{const _=a("el-avatar"),g=a("el-button"),x=a("el-header"),u=a("el-menu-item"),h=a("el-menu"),k=a("el-aside"),w=a("router-view"),E=a("el-main"),S=a("el-container");return $(),U("div",N,[s(x,{class:"header"},{default:o(()=>[e[1]||(e[1]=n("div",{class:"logo"},"ðŸ“š å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼ˆç”¨æˆ·ç«¯ï¼‰",-1)),n("div",W,[s(_,{class:"user-avatar",size:34,src:c.value},{default:o(()=>[d(m(r.value.charAt(0).toUpperCase()),1)]),_:1},8,["src"]),n("span",z,m(r.value),1),s(g,{type:"text",onClick:b},{default:o(()=>e[0]||(e[0]=[d("é€€å‡ºç™»å½•")])),_:1,__:[0]})])]),_:1,__:[1]}),s(S,{class:"main-container"},{default:o(()=>[s(k,{width:"200px",class:"sidebar"},{default:o(()=>[s(h,{router:"","background-color":"#364554","text-color":"#bfcbd9","active-text-color":"#409EFF",class:"user-menu"},{default:o(()=>[s(u,{index:"/user/book-list"},{default:o(()=>e[2]||(e[2]=[n("i",{class:"el-icon-reading"},null,-1),n("span",null,"å›¾ä¹¦åˆ—è¡¨",-1)])),_:1,__:[2]}),s(u,{index:"/user/my-borrow"},{default:o(()=>e[3]||(e[3]=[n("i",{class:"el-icon-notebook-2"},null,-1),n("span",null,"æˆ‘çš„å€Ÿé˜…",-1)])),_:1,__:[3]}),s(u,{index:"/user/profile"},{default:o(()=>e[4]||(e[4]=[n("i",{class:"el-icon-user"},null,-1),n("span",null,"ä¸ªäººèµ„æ–™",-1)])),_:1,__:[4]})]),_:1})]),_:1}),s(E,{class:"content"},{default:o(()=>[s(w)]),_:1})]),_:1})])}}},T=A(F,[["__scopeId","data-v-bb35e09a"]]);export{T as default};
